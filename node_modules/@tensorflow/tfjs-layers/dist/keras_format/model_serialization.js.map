{"version":3,"file":"model_serialization.js","sourceRoot":"","sources":["../../src/keras_format/model_serialization.ts"],"names":[],"mappings":"AAAA;;;;;;;;GAQG","sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n *\n * Use of this source code is governed by an MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n * =============================================================================\n */\n\nimport {LayerSerialization} from './layers/layer_serialization';\nimport {TensorKeyArray} from './node_config';\nimport {TrainingConfig} from './training_config';\nimport {BaseSerialization} from './types';\n\nexport type ModelConfig = {\n  name: string,\n  layers: LayerSerialization[],\n  input_layers: TensorKeyArray[],\n  output_layers: TensorKeyArray[],\n};\n\n/**\n * A standard Keras JSON 'Model' configuration.\n */\nexport interface ModelSerialization extends\n    BaseSerialization<'Model', ModelConfig> {\n  backend?: string;\n  keras_version?: string;\n}\n\nexport type SequentialConfig = {\n  layers: LayerSerialization[]\n};\n\n/**\n * A standard Keras JSON 'Sequential' configuration.\n */\nexport interface SequentialSerialization extends\n    BaseSerialization<'Sequential', SequentialConfig> {\n  backend?: string;\n  keras_version?: string;\n}\n\n/**\n * A legacy Keras JSON 'Sequential' configuration.\n *\n * It was a bug that Keras Sequential models were recorded with\n * model_config.config as an array of layers, instead of a dict containing a\n * 'layers' entry.  While the bug has been fixed, we still need to be able to\n * read this legacy format.\n */\nexport type LegacySequentialSerialization = {\n  // Note this cannot extend `BaseSerialization` because of the bug.\n  class_name: 'Sequential';\n\n  config: LayerSerialization[];\n  backend?: string;\n  keras_version?: string;\n};\n\n/**\n * Contains the description of a KerasModel, as well as the configuration\n * necessary to train that model.\n */\nexport type KerasFileSerialization = {\n  // aka ModelTopology?\n  model_config: ModelSerialization|SequentialSerialization|\n  LegacySequentialSerialization;\n  training_config: TrainingConfig;\n};\n"]}