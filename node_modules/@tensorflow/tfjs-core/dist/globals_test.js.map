{"version":3,"file":"globals_test.js","sourceRoot":"","sources":["../src/globals_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as tf from './index';\nimport {ALL_ENVS, describeWithFlags, NODE_ENVS} from './jasmine_util';\nimport {expectArraysClose} from './test_util';\n\ndescribe('deprecation warnings', () => {\n  beforeEach(() => {\n    spyOn(console, 'warn').and.callFake((msg: string): void => null);\n  });\n\n  it('deprecationWarn warns', () => {\n    // flags_test.ts verifies deprecation warnings are on by default.\n    const deprecationVal = tf.env().get('DEPRECATION_WARNINGS_ENABLED');\n    tf.env().set('DEPRECATION_WARNINGS_ENABLED', true);\n    tf.deprecationWarn('xyz is deprecated.');\n    tf.env().set('DEPRECATION_WARNINGS_ENABLED', deprecationVal);\n    expect(console.warn).toHaveBeenCalledTimes(1);\n    expect(console.warn)\n        .toHaveBeenCalledWith(\n            'xyz is deprecated. You can disable deprecation warnings with ' +\n            'tf.disableDeprecationWarnings().');\n  });\n\n  it('disableDeprecationWarnings called, deprecationWarn doesnt warn', () => {\n    tf.disableDeprecationWarnings();\n    expect(console.warn).toHaveBeenCalledTimes(1);\n    expect(console.warn)\n        .toHaveBeenCalledWith(\n            'TensorFlow.js deprecation warnings have been disabled.');\n\n    // deprecationWarn no longer warns.\n    tf.deprecationWarn('xyz is deprecated.');\n    expect(console.warn).toHaveBeenCalledTimes(1);\n  });\n});\n\ndescribe('Flag flipping methods', () => {\n  beforeEach(() => {\n    tf.env().reset();\n  });\n\n  afterEach(() => {\n    tf.env().reset();\n  });\n\n  it('tf.enableProdMode', () => {\n    tf.enableProdMode();\n    expect(tf.env().getBool('PROD')).toBe(true);\n  });\n\n  it('tf.enableDebugMode', () => {\n    // Silence debug warnings.\n    spyOn(console, 'warn');\n    tf.enableDebugMode();\n    expect(tf.env().getBool('DEBUG')).toBe(true);\n  });\n});\n\ndescribeWithFlags('time cpu', NODE_ENVS, () => {\n  it('simple upload', async () => {\n    const a = tf.zeros([10, 10]);\n    const time = await tf.time(() => a.square());\n    expect(time.kernelMs > 0);\n    expect(time.wallMs >= time.kernelMs);\n  });\n});\n\ndescribeWithFlags('tidy', ALL_ENVS, () => {\n  it('returns Tensor', async () => {\n    tf.tidy(() => {\n      const a = tf.tensor1d([1, 2, 3]);\n      let b = tf.tensor1d([0, 0, 0]);\n\n      expect(tf.memory().numTensors).toBe(2);\n      tf.tidy(() => {\n        const result = tf.tidy(() => {\n          b = tf.add(a, b);\n          b = tf.add(a, b);\n          b = tf.add(a, b);\n          return tf.add(a, b);\n        });\n\n        // result is new. All intermediates should be disposed.\n        expect(tf.memory().numTensors).toBe(2 + 1);\n        expect(result.shape).toEqual([3]);\n        expect(result.isDisposed).toBe(false);\n      });\n\n      // a, b are still here, result should be disposed.\n      expect(tf.memory().numTensors).toBe(2);\n    });\n\n    expect(tf.memory().numTensors).toBe(0);\n  });\n\n  it('multiple disposes does not affect num arrays', () => {\n    expect(tf.memory().numTensors).toBe(0);\n    const a = tf.tensor1d([1, 2, 3]);\n    const b = tf.tensor1d([1, 2, 3]);\n    expect(tf.memory().numTensors).toBe(2);\n    a.dispose();\n    a.dispose();\n    expect(tf.memory().numTensors).toBe(1);\n    b.dispose();\n    expect(tf.memory().numTensors).toBe(0);\n  });\n\n  it('allows primitive types', () => {\n    const a = tf.tidy(() => 5);\n    expect(a).toBe(5);\n\n    const b = tf.tidy(() => 'hello');\n    expect(b).toBe('hello');\n  });\n\n  it('allows complex types', async () => {\n    const res = tf.tidy(() => {\n      return {a: tf.scalar(1), b: 'hello', c: [tf.scalar(2), 'world']};\n    });\n    expectArraysClose(await res.a.data(), [1]);\n    expectArraysClose(await (res.c[0] as tf.Tensor).data(), [2]);\n  });\n\n  it('returns Tensor[]', async () => {\n    const a = tf.tensor1d([1, 2, 3]);\n    const b = tf.tensor1d([0, -1, 1]);\n    expect(tf.memory().numTensors).toBe(2);\n\n    tf.tidy(() => {\n      const result = tf.tidy(() => {\n        tf.add(a, b);\n        return [tf.add(a, b), tf.sub(a, b)];\n      });\n\n      // the 2 results are new. All intermediates should be disposed.\n      expect(tf.memory().numTensors).toBe(4);\n      expect(result[0].isDisposed).toBe(false);\n      expect(result[0].shape).toEqual([3]);\n      expect(result[1].isDisposed).toBe(false);\n      expect(result[1].shape).toEqual([3]);\n      expect(tf.memory().numTensors).toBe(4);\n    });\n\n    // the 2 results should be disposed.\n    expect(tf.memory().numTensors).toBe(2);\n    a.dispose();\n    b.dispose();\n    expect(tf.memory().numTensors).toBe(0);\n  });\n\n  it('basic usage without return', () => {\n    const a = tf.tensor1d([1, 2, 3]);\n    let b = tf.tensor1d([0, 0, 0]);\n\n    expect(tf.memory().numTensors).toBe(2);\n\n    tf.tidy(() => {\n      b = tf.add(a, b);\n      b = tf.add(a, b);\n      b = tf.add(a, b);\n      tf.add(a, b);\n    });\n\n    // all intermediates should be disposed.\n    expect(tf.memory().numTensors).toBe(2);\n  });\n\n  it('nested usage', async () => {\n    const a = tf.tensor1d([1, 2, 3]);\n    let b = tf.tensor1d([0, 0, 0]);\n\n    expect(tf.memory().numTensors).toBe(2);\n\n    tf.tidy(() => {\n      const result = tf.tidy(() => {\n        b = tf.add(a, b);\n        b = tf.tidy(() => {\n          b = tf.tidy(() => {\n            return tf.add(a, b);\n          });\n          // original a, b, and two intermediates.\n          expect(tf.memory().numTensors).toBe(4);\n\n          tf.tidy(() => {\n            tf.add(a, b);\n          });\n          // All the intermediates should be cleaned up.\n          expect(tf.memory().numTensors).toBe(4);\n\n          return tf.add(a, b);\n        });\n        expect(tf.memory().numTensors).toBe(4);\n\n        return tf.add(a, b);\n      });\n\n      expect(tf.memory().numTensors).toBe(3);\n      expect(result.isDisposed).toBe(false);\n      expect(result.shape).toEqual([3]);\n    });\n    expect(tf.memory().numTensors).toBe(2);\n  });\n\n  it('nested usage returns tensor created from outside scope', () => {\n    const x = tf.scalar(1);\n\n    tf.tidy(() => {\n      tf.tidy(() => {\n        return x;\n      });\n    });\n\n    expect(x.isDisposed).toBe(false);\n  });\n\n  it('nested usage with keep works', () => {\n    let b: tf.Tensor;\n    tf.tidy(() => {\n      const a = tf.scalar(1);\n      tf.tidy(() => {\n        b = tf.keep(a);\n      });\n    });\n\n    expect(b.isDisposed).toBe(false);\n    b.dispose();\n  });\n\n  it('single argument', () => {\n    let hasRan = false;\n    tf.tidy(() => {\n      hasRan = true;\n    });\n    expect(hasRan).toBe(true);\n  });\n\n  it('single argument, but not a function throws error', () => {\n    expect(() => {\n      tf.tidy('asdf');\n    }).toThrowError();\n  });\n\n  it('2 arguments, first is string', () => {\n    let hasRan = false;\n    tf.tidy('name', () => {\n      hasRan = true;\n    });\n    expect(hasRan).toBe(true);\n  });\n\n  it('2 arguments, but first is not string throws error', () => {\n    expect(() => {\n      // tslint:disable-next-line:no-any\n      tf.tidy(4 as any, () => {});\n    }).toThrowError();\n  });\n\n  it('2 arguments, but second is not a function throws error', () => {\n    expect(() => {\n      // tslint:disable-next-line:no-any\n      tf.tidy('name', 'another name' as any);\n    }).toThrowError();\n  });\n\n  it('works with arbitrary depth of result', async () => {\n    tf.tidy(() => {\n      const res = tf.tidy(() => {\n        return [tf.scalar(1), [[tf.scalar(2)]], {list: [tf.scalar(3)]}];\n      });\n      expect((res[0] as tf.Tensor).isDisposed).toBe(false);\n      // tslint:disable-next-line:no-any\n      expect((res[1] as any)[0][0].isDisposed).toBe(false);\n      // tslint:disable-next-line:no-any\n      expect((res[2] as any).list[0].isDisposed).toBe(false);\n      expect(tf.memory().numTensors).toBe(3);\n      return res[0];\n    });\n    // Everything but scalar(1) got disposed.\n    expect(tf.memory().numTensors).toBe(1);\n  });\n});\n"]}